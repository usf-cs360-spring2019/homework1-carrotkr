<!DOCTYPE html>
<html>

<!-- head -->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>CS 360/560 Spring 2019</title>

  <!-- bulma 0.7.2 and font awesome v5.7.1 -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.2/css/bulma.min.css" integrity="sha256-2pUeJf+y0ltRPSbKOeJh09ipQFYxUdct5nTY6GAXswA=" crossorigin="anonymous" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
  <link rel="stylesheet" href="app.css">
</head>

<!-- body -->
<body>
  <script src="https://d3js.org/d3.v5.min.js"></script>
  <!-- header -->
  <section class="hero is-primary is-bold">
    <!-- todo: change assignment and name -->
    <div class="hero-body">
      <div class="container">
        <h1 class="title">
          Homework 1
        </h1>
        <h2 class="subtitle">
          Kibeom Kim
        </h2>
      </div>
    </div>

    <!-- todo: change navigation as needed -->
    <div class="hero-foot">
      <div class="container">
        <nav class="navbar" role="navigation" aria-label="main navigation">

          <div class="navbar-brand">
            <a class="navbar-item" href="#top">
              <span class="icon">
                <i class="fas fa-home"></i>
              </span>
              <span>Home</span>
            </a>
          </div>

          <div class="navbar-menu">
            <a class="navbar-item" href="#vis1">
              <span class="icon">
                <i class="fas fa-chart-area"></i>
              </span>
              <span>Visualization 1</span>
            </a>
            <a class="navbar-item" href="#vis2">
              <span class="icon">
                <i class="fas fa-chart-area"></i>
              </span>
              <span>Visualization 2</span>
            </a>
            <a class="navbar-item" href="#vis3">
              <span class="icon">
                <i class="fas fa-chart-area"></i>
              </span>
              <span>Visualization 3</span>
            </a>
            <a class="navbar-item" href="#prototypes">
              <span class="icon">
                <i class="fas fa-image"></i>
              </span>
              <span>Prototypes</span>
            </a>
          </div>

          <div class="navbar-end">
            <a class="navbar-item" href="#grade">
              <span class="icon">
                <i class="fas fa-tasks"></i>
              </span>
              <span>Grade</span>
            </a>

            <a class="navbar-item" href="#about">
              <span class="icon">
                <i class="fas fa-info-circle"></i>
              </span>
              <span>About</span>
            </a>
          </div>

        </nav>
      </div>
    </div>
  </section>

  <!-- todo: add sections as necessary -->
  <section id="vis1" class="section">
    <div class="container content">
      <!-- todo: modify as necessary (or move visualizations to separate pages) -->
      <h2>Number of Incidents vs. Supervisor District</h2>

      <script src="vis1.js"></script>

      <svg width="800" height="600" style="background-color: whitesmoke; border: 1px solid black;">
      </svg>

      <h3>Interpretation</h3>

      <p>
        If appropriate, provide a brief discussion of how to interpret this visualization (e.g. how the data is encoded) and how to interact with this visualization. Some of this discussion may not be necessary depending on the legends provided with the visualization.
      </p>

      <h3>Discussion</h3>

      <p>
        If appropriate, provide a brief discussion of the primary goal and findings of the visualization, any challenges encountered creating the visualization, and any other context as required by the assignment.
      </p>

      <h3>Credit</h3>

      <p>
        If appropriate, provide credit for the dataset, any code used, and design inspirations here. Unsufficient discussion here is a violation of the <a href="/syllabus.html#cheating-policy">academic honesty policy</a> and may result in an F grade for the assignment or the <em>entire</em> course.
      </p>
    </div>
  </section>

  <!-- separator between sections -->
  <hr class="container">

  <section id="vis2" class="section">
    <div class="container content">
      <!-- todo: modify as necessary (or move visualizations to separate pages) -->
      <h2> Number of Incidents vs. Incident Time </h2>

      <script>
        var WIDTH = 960;
var HEIGHT = 500;

// Set width and height of svg.
d3.select('svg')
    .style('width', WIDTH)
    .style('height', HEIGHT);

// Fetch data.
d3.csv('Police.csv').then(function(csv_data) {
    var tempData = d3.nest()
        .key(function(d) {
            incidentTime = d.IncidentTime.toString()
            console.log("time", incidentTime)
            absIncidentTime = +incidentTime.slice(0,2)
            console.log("time", absIncidentTime)
            
            return absIncidentTime;
        })
      .rollup(function(v) { return v.length; })
      .entries(csv_data);

    console.log(tempData);

    d3.select('svg').selectAll('rect') // Select rectangles within svg.
        .data(tempData) // Attach data to the rectangles.
        .enter() // Find the data elements that are not attached to rectangles.
        .append('rect'); // Append rectangles for each data not attached to a rectangle.

    //-----Adjusting the height and the width of the bars.-----//
    
    var yScale = d3.scaleLinear(); // Create a linear scale.
    yScale.range([HEIGHT, 0]); // Set its visual range to 600->0.

    // Get the minimum y data value by looking at the count property of each datum.
    var yMin = d3.min(tempData, function(datum, index){
        return datum.value;
    })
    // console.log(yMin);

    // Get the maximum y data value by looking at the count property of each datum.
    var yMax = d3.max(tempData, function(datum, index){
        return datum.value;
    })
    // console.log(yMax);

    // Set the domain of yScale from yMin and yMax.
    yScale.domain([yMin-328, yMax]);

    d3.selectAll('rect')
        .attr('height', function(datum, index){
        // Set the height of each rectangle by getting the count property of each datum
        //  converting it to a visual value, using yScale
        //  then subtract that value from HEIGHT.
            return HEIGHT-yScale(datum.value);
        });

    //-----Adjusting the horizontal and the vertical placement of the bars.-----//

    var xScale = d3.scaleLinear(); // Create the xScale.
    xScale.range([0, WIDTH]); // Set the range to 0->800.
    xScale.domain([0, tempData.length]); // Set the domain from 0 to the number of data elements retrieved.
    
    d3.selectAll('rect') // Select all rectangles.
        .attr('x', function(datum, index){
            // Set the x position of each rectangle
            //  by converting the index of the elemnt in the array to a point between 0->800.
            return xScale(index);
        });

    d3.selectAll('rect')
        .attr('y', function(datum, index){
            // Set the y position of each rectangle
            //  by converting the count property of the datum to a visual value.
            return yScale(datum.value);
        });

    //-----Making the width of the bars dynamic.-----//

    // Set the width of all rectangles to be the width of the SVG divided by the number of data elements.
    d3.selectAll('rect')
        .attr('width', WIDTH/tempData.length);

    //-----Changing the color of the bar based on data.-----//

    var yDomain = d3.extent(tempData, function(datum, index) {
        // Set the y domain by getting the min/max
        //  and examining the count property of each datum.
        return datum.value;
    })
    var colorScale = d3.scaleLinear(); // Create a linear scale.
    colorScale.domain(yDomain)
    // colorScale.range(['#00cc00', 'blue']) // The visual range goes from green->blue.
    colorScale.range(['#7b00b7', '#5b0093'])
    
    d3.selectAll('rect')
        .attr('fill', function(datum, index) {
            // Set the fill of each rectangle
            //  by converting the count property of the datum to a color.
            return colorScale(datum.value)
        })
    
    //-----Adding axes.-----//

    var leftAxis = d3.axisLeft(yScale); // Create a left axis generator using the yScale.
    d3.select('svg')
        .append('g').attr('id', 'left-axis')
        .call(leftAxis);
    
    var skillScale = d3.scaleBand(); // Map skills to horizontal positions.
    var skillDomain = tempData.map(function(skill) { // Create an array of skill strings.
        return skill.key
    });
    skillScale.range([0, WIDTH]); // Set the range of the skillScale to 0->800.
    skillScale.domain(skillDomain); // Set the domain to be the array of skill strings.
    
    var bottomAxis = d3.axisBottom(skillScale); // Create a bottom axis generator that uses the skillScale.
    d3.select('svg')
        .append('g').attr('id', 'bottom-axis')
        .call(bottomAxis)
        .attr('transform', 'translate(0,'+HEIGHT+')'); // Move it to the bottom of the svg.
});

      </script>

      <svg width="800" height="600" style="background-color: whitesmoke; border: 1px solid black;"> </svg>
    </div>
  </section>

  <!-- separator between sections -->
  <hr class="container">

  <section id="vis3" class="section">
    <div class="container content">
      <!-- todo: modify as necessary (or move visualizations to separate pages) -->

      <svg width="800" height="600" style="background-color: whitesmoke; border: 1px solid black;">
      </svg>
    </div>
  </section>

  <!-- separator between sections -->
  <hr class="container">

  <section id="prototypes" class="section">
    <div class="container content">
      <h2>Prototypes</h2>

      <img src="Prototypes_vis1.png" class="prototypes">

      
      <!-- <img src="img/Case Status Per District.png" class="prototypes"> -->
      <!-- <img src="img/Incident Frequency Per Hour.png" class="prototypes"> -->
      <!-- <img src="img/Report Period Per Incident.png" class="prototypes"> -->
      <!-- <img src="img/Incident Density Map.png" class="prototypes"> -->
    </div>
  </section>

  <!-- separator between sections -->
  <hr class="container">

  <!-- grade section -->
  <section class="section">
    <div class="container content">
      <h2 id="grade">
        Expected Grade
      </h2>

      <!-- todo: modify to indicate your expected grade -->
      <table class="table is-hoverable">
        <thead>
          <tr>
            <th>Done?</th>
            <th>Letter</th>
            <th>Justification</th>
          </tr>
        </thead>

        <tbody>
          <!-- d level functionality -->
          <tr>
            <td class="has-text-centered">
              <i class="far fa-fw fa-check-circle has-text-success"></i>
            </td>

            <td class="has-text-centered">
              D
            </td>

            <td>
              If appropriate, provide a brief justification for this level of functionality. Clearly state if this level was not implemented.
            </td>
          </tr>

          <!-- c level functionality -->
          <tr>
            <td class="has-text-centered">
              <i class="far fa-fw fa-check-circle has-text-success"></i>
            </td>

            <td class="has-text-centered">
              C
            </td>

            <td>
              If appropriate, provide a brief justification for this level of functionality. Clearly state if this level was not implemented.
            </td>
          </tr>

          <!-- b level functionality -->
          <tr>
            <td class="has-text-centered">
              <i class="far fa-fw fa-times-circle has-text-danger"></i>
            </td>

            <td class="has-text-centered">
              B
            </td>

            <td>
              If appropriate, provide a brief justification for this level of functionality. Clearly state if this level was not implemented.
            </td>
          </tr>


          <!-- a level functionality -->
          <tr>
            <td class="has-text-centered">
              <i class="far fa-fw fa-times-circle has-text-danger"></i>
            </td>

            <td class="has-text-centered">
              A
            </td>

            <td>
              If appropriate, provide a brief justification for this level of functionality. Clearly state if this level was not implemented.
            </td>
          </tr>
        <tbody>
      </table>

      <p>
        Any additional context you want to provide regarding functionality and grading can be included here. This may include any challenges or bugs you ran into that prevented you from implementing additional functionality.
      </p>
    </div>
  </section>

  <!-- about section -->
  <!-- todo: can fill in, or link to an about page you use for all assignments -->
  <section class="section">
    <div class="container content">
      <h2 id="about">
        About Me
      </h2>

      <div class="media">
        <div class="media-left">
          <p class="image is-128x128">
            <!-- todo: replace with your profile image -->
            <img src="https://bulma.io/images/placeholders/128x128.png">
          </p>
        </div>

        <div class="media-content">
            <p>
              <!-- todo: replace with your information -->
              <strong>Full Name</strong>
              <br/>
              This is a good place to place a brief biography describing your interests and skills, a professional profile photo, and/or links to your Github, Linkedin, and other <em>professional</em> social media accounts.
              <br/>
              <!-- find brand icons at: https://fontawesome.com/icons?d=gallery&s=brands&m=free -->
              <a href="https://github.com/">
                <span class="fab fa-github"></span>
                <span>Github</span>
              </a>
              &bullet;
              <a href="https://www.linkedin.com/">
                <span class="fab fa-linkedin"></span>
                <span>LinkedIn</span>
              </a>
            </p>

        </div>
      </div>

    </div>
  </section>

  <!-- footer -->
  <footer class="footer">
    <div class="content has-text-centered">
      <small>
        <a href="#top">
          <span class="fas fa-arrow-up"></span>
          <span>Back to Top</span>
        </a>
        <br/>
        <a href="/">CS 360/560 Data Visualization</a>
        &bullet;
        <a href="https://myusf.usfca.edu/arts-sciences/computer-science">Department of Computer Science</a>
        &bullet;
        <a href="https://www.usfca.edu/">University of San Franciscio</a>
      </small>
    </div>
  </footer>

<!-- end body and html -->
</body>
</html>
